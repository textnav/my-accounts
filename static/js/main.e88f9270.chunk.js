(this["webpackJsonpmy-aaccounts"]=this["webpackJsonpmy-aaccounts"]||[]).push([[0],{182:function(e){e.exports=JSON.parse('{"US$":1,"HK$":8}')},254:function(e){e.exports=JSON.parse('[{"id":"021000021","label":"Account 1","currency":"US$","balance":1450},{"id":"011401533","label":"Account 2","currency":"US$","balance":0},{"id":"091000019","label":"Account 3","currency":"US$","balance":0}]')},255:function(e){e.exports=JSON.parse('{"021000021":[{"id":"1619677467934","timestamp":1619677467000,"action":"debit","description":"initial deposit","amount":0,"balance":0,"currency":"US$"},{"id":"1619687467934","timestamp":1619687467000,"action":"debit","description":"first deposit","amount":900,"balance":900,"currency":"US$"},{"id":"1619697467934","timestamp":1619697467000,"action":"credit","description":"first credit","amount":100,"balance":800,"currency":"US$"},{"id":"1619707467934","timestamp":1619707467000,"action":"debit","description":"third deposit","amount":700,"balance":1500,"currency":"US$"},{"id":"1619717467934","timestamp":1619717467000,"action":"credit","description":"second credit","amount":50,"balance":1450,"currency":"US$"}]}')},256:function(e){e.exports=JSON.parse('{"name":"User1","gender":"Male","age":"43","address":"HK"}')},480:function(e,t,n){},481:function(e,t,n){},482:function(e,t,n){"use strict";n.r(t);n(311);var r,a=n(0),c=n.n(a),o=n(24),i=n.n(o),s=n(37),u=n(86),l=n(179),d=n.n(l),f=n(35),m=n(9),j=n(253),b=n.n(j),h=n(254),p=n(182),O=n(255),v=n(256),x="ACCOUNT::FETCH_ACCOUNTS",g="ACCOUNT::FETCH_ACCOUNTS_SUCCESS",y="ACCOUNT::FETCH_ACCOUNTS_FAIL",A="ACCOUNT::FETCH_TRANSACTIONS",S="ACCOUNT::FETCH_TRANSACTIONS_SUCCESS",C="ACCOUNT::FETCH_TRANSACTIONS_FAIL",T="ACCOUNT::FETCH_CURRENCIES",N="ACCOUNT::FETCH_CURRENCIES_SUCCESS",F="ACCOUNT::FETCH_CURRENCIES_FAIL";!function(e){e.DEBIT="debit",e.CREDIT="credit"}(r||(r={}));var w={accounts:{fetching:!1,fetched:!1,error:null,data:[]},transactions:{fetching:!1,fetched:!1,error:null,data:[]},currencies:{fetching:!1,fetched:!1,error:null,data:{}}},E=Object(m.a)({},O),B=Object(f.a)(h),I=function(){return[200,B]},U=function(){return[200,v]},M=function(e){var t;return null===e?[400]:[200,null!==(t=E[e])&&void 0!==t?t:[]]},R=function(){return[200,p]},V=function(e,t,n,a){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=p[a];if(null===o||void 0===o)return[400,"Bad Request"];var i=n/o;if(D(e,t,i)){var s=_(e),u=_(t);s.balance-=i,u.balance+=i;var l=Date.now(),d={id:P(),timestamp:l,action:r.DEBIT,amount:n,currency:a,description:c,balance:s.balance};E[e].push(d);var f={id:P(),timestamp:l,action:r.CREDIT,amount:n,currency:a,description:c,balance:u.balance};return Array.isArray(E[t])||(E[t]=[]),E[t].push(f),[200]}return[400,"Bad Request"]};function _(e){return B.find((function(t){return t.id===e}))}var D=function(e,t,n){if((null===e||void 0===e?void 0:e.trim())&&(null===t||void 0===t?void 0:t.trim())&&n>0&&(_(e)&&_(t)))return _(e).balance>n;return!1};function P(){var e=(new Date).getTime(),t=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(n){var r=16*Math.random();return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),("x"===n?r:3&r|8).toString(16)}))}var k=d.a.create({baseURL:"http://localhost:8000",headers:{"Content-type":"application/json"}});(function(e){var t=new b.a(e,{delayResponse:100});t.onGet("/accounts").reply((function(){return I()})),t.onGet("/profile").reply((function(){return U()})),t.onGet("/currencies").reply((function(){return R()})),t.onGet(/\/transactions\/[sS]*/).reply((function(e){var t=e.url,n=null;return t&&(n=t.substring(t.lastIndexOf("/")+1)),M(n)})),t.onPost("/transfer").reply((function(e){var t=JSON.parse(null===e||void 0===e?void 0:e.data),n=t.fromAccount,r=t.toAccount,a=t.transferAmount,c=t.currency,o=t.description;return V(n,r,a,c,o)}))})(k);var H=k,L=function(){return function(e){return e({type:x}),H.get("/accounts").then((function(t){return e({type:g,accounts:t.data})})).catch((function(t){var n,r;return e({type:y,error:{data:null===(n=t.response)||void 0===n?void 0:n.data,status:null===(r=t.response)||void 0===r?void 0:r.status}})}))}},G=function(e){return function(t){return t({type:A}),function(e){return H.get("/transactions/".concat(e))}(e).then((function(e){return t({type:S,transactions:e.data})})).catch((function(e){var n,r;return t({type:C,error:{data:null===(n=e.response)||void 0===n?void 0:n.data,status:null===(r=e.response)||void 0===r?void 0:r.status}})}))}},W=function(){return function(e){return e({type:T}),H.get("/currencies").then((function(t){return e({type:N,currencies:t.data})})).catch((function(t){var n,r;return e({type:F,error:{data:null===(n=t.response)||void 0===n?void 0:n.data,status:null===(r=t.response)||void 0===r?void 0:r.status}})}))}},$="USER::GET_PROFILE",q="USER::GET_PROFILE_SUCCESS",J="USER::GET_PROFILE_FAIL",K=function(){return function(e){return e({type:$}),H.get("/profile").then((function(t){return e({type:q,profile:t.data})})).catch((function(t){var n,r;return e({type:J,error:{data:null===(n=t.response)||void 0===n?void 0:n.data,status:null===(r=t.response)||void 0===r?void 0:r.status}})}))}},z=n(250),Q=n(543),X=n(190),Y=n(486),Z=function(e){return e.account},ee=function(e){var t;return null===(t=Z(e))||void 0===t?void 0:t.accounts},te=n.p+"static/media/loader.fc22bb7c.svg",ne=n(3);function re(e){var t={height:e.height,width:"auto"};return Object(ne.jsx)("div",{"data-testid":"loader",style:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(ne.jsx)("img",{style:t,src:te,alt:"loading"})})}var ae=n(541),ce=n(4),oe=n(528),ie=n(529),se=n(533),ue=n(272),le=n(273),de=n(126),fe=n(286);function me(e){return e.data.length?Object(ne.jsx)(oe.a,{width:"100%",height:"100%",children:Object(ne.jsxs)(ie.a,{width:500,height:400,data:e.data.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{timestamp:new Date(e.timestamp).toLocaleString()})})),margin:{top:10,right:30,left:0,bottom:0},children:[Object(ne.jsx)(se.a,{strokeDasharray:"3 3"}),Object(ne.jsx)(ue.a,{dataKey:"timestamp",domain:["auto","auto"],name:"Time"}),Object(ne.jsx)(le.a,{}),Object(ne.jsx)(de.a,{}),Object(ne.jsx)(fe.a,{type:"monotone",dataKey:"balance",stroke:"#82ca9d"})]})}):Object(ne.jsx)(ne.Fragment,{})}var je=n(251),be=n(537),he=n(536),pe=Object(z.a)((function(e){return Object(je.a)({depositContext:{flex:1}})}));function Oe(e){var t,n=pe(),r=Object(s.c)((function(e){return ee(e)})),a=e.transactions[e.transactions.length-1];if(r.fetching)return Object(ne.jsx)(re,{height:"0.3rem"});if(r.error||null===e.id)return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(he.a,{}),Object(ne.jsx)(Y.a,{component:"h1",variant:"h5",color:"secondary",gutterBottom:!0,children:"Error while fetching accounts"})]});var c=null===(t=r.data)||void 0===t?void 0:t.find((function(t){return t.id===e.id}));return null===c||void 0===c?Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(he.a,{}),Object(ne.jsx)(Y.a,{component:"h1",variant:"h5",color:"secondary",gutterBottom:!0,children:"Error with account data"})]}):Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(Y.a,{component:"p",variant:"h4",children:c.currency+c.balance}),Object(ne.jsx)(Y.a,{component:"h1",variant:"h5",color:"primary",gutterBottom:!0,children:"Balance"}),Object(ne.jsx)("span",{className:n.depositContext}),Object(ne.jsx)(be.a,{}),Object(ne.jsx)("span",{className:n.depositContext}),Object(ne.jsx)(Y.a,{component:"p",variant:"h4",children:a.currency+a.amount}),Object(ne.jsx)(Y.a,{color:"textSecondary",children:new Date(a.timestamp).toLocaleString()}),Object(ne.jsxs)(Y.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:["Recent ",a.action]})]})}var ve=n(186),xe=[{field:"timestamp",headerName:"Time",width:200,type:"dateTime",valueFormatter:function(e){var t=e.getValue(e.id,"timestamp");return t?new Date(Number(t)).toLocaleString():""}},{field:"description",headerName:"Description",width:200,flex:1},{field:"action",headerName:"Action",width:150},{field:"amount",headerName:"Amount",width:150,align:"right",headerAlign:"right",type:"number",valueFormatter:function(e){var t=e.getValue(e.id,"amount"),n=e.row.currency;return"".concat(null!==n&&void 0!==n?n:"").concat((null!==t&&void 0!==t?t:"").toLocaleString())}}],ge=[{field:"timestamp",sort:"desc"}];function ye(e){var t=e.transactions,n={Toolbar:ve.b};return Object(ne.jsx)("div",{style:{height:"30rem",width:"100%"},children:Object(ne.jsx)(ve.a,{rows:t,columns:xe,pagination:!0,autoPageSize:!0,sortModel:ge,components:n})})}var Ae=Object(z.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function Se(e){var t=Ae(),n=Object(ce.a)(t.paper,t.fixedHeight);return Object(ne.jsxs)(ae.a,{"data-testid":"accountsGrid",container:!0,spacing:3,children:[Object(ne.jsx)(ae.a,{item:!0,xs:12,md:8,lg:9,children:Object(ne.jsx)(X.a,{className:n,children:Object(ne.jsx)(me,{data:e.transactions})})}),Object(ne.jsx)(ae.a,{item:!0,xs:12,md:4,lg:3,children:Object(ne.jsx)(X.a,{className:n,children:Object(ne.jsx)(Oe,{transactions:e.transactions,id:e.id})})}),Object(ne.jsx)(ae.a,{item:!0,xs:12,children:Object(ne.jsx)(ye,{transactions:e.transactions})})]})}var Ce=n(7),Te=n(192),Ne=n(88),Fe=n(285),we=n(78),Ee=n(542),Be=Object(z.a)((function(e){return Object(je.a)({disabled:{opacity:.5},active:{color:e.palette.primary.main,fontWeight:"bold"}})}));var Ie=function(e){var t,n,r=Be(),a=e.id,o=Object(s.c)((function(e){return ee(e)})),i=c.a.useState(null),l=Object(Ce.a)(i,2),d=l[0],f=l[1],m=Boolean(d),j=function(e){f(null)},b="primary-search-account-menu",h=Object(ne.jsx)(Fe.a,{anchorEl:d,anchorOrigin:{vertical:"top",horizontal:"right"},id:b,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:j,children:o.data.map((function(e){var t=e.id,n=e.label;return Object(ne.jsx)(u.a,{to:"/".concat(t),children:Object(ne.jsx)(we.a,{className:t===a?r.active:"",onClick:function(){return j()},children:n})},t)}))});return Object(ne.jsxs)(Y.a,{component:"h1",variant:"h5",color:"primary",gutterBottom:!0,children:["Transactions for account",o.fetched&&o.error&&Object(ne.jsx)(Te.a,{title:"Error while fetching accounts",children:Object(ne.jsx)(he.a,{})}),Object(ne.jsxs)(Ne.a,{"aria-label":"account of current user","aria-controls":b,"aria-haspopup":"true",onClick:function(e){f(e.currentTarget)},color:"inherit",className:o.data.length<1?r.disabled:"",children:[o.fetching?Object(ne.jsx)(re,{height:"0.3rem"}):a||"............",o.fetched&&(null===(t=o.data)||void 0===t?void 0:t.length)>0&&Object(ne.jsx)(Ee.a,{})]}),o.fetched&&(null===(n=o.data)||void 0===n?void 0:n.length)>0&&h]})},Ue=Object(z.a)((function(e){return{appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},info:{textAlign:"center",padding:e.spacing(5)}}}));function Me(e){var t,n,r=Ue(),c=Object(s.b)();Object(a.useEffect)((function(){e.id&&c(G(e.id))}),[c,e.id]);var o=Object(s.c)((function(e){return function(e){var t;return null===(t=Z(e))||void 0===t?void 0:t.transactions}(e)}));return Object(ne.jsxs)("main",{className:r.content,children:[Object(ne.jsx)("div",{className:r.appBarSpacer}),Object(ne.jsxs)(Q.a,{maxWidth:"lg",className:r.container,children:[Object(ne.jsx)(Ie,{id:e.id}),o.fetched&&(null===(t=o.data)||void 0===t?void 0:t.length)>0&&e.id&&Object(ne.jsx)(Se,{transactions:o.data,id:e.id}),e.id&&o.fetched&&(null===(n=o.data)||void 0===n?void 0:n.length)<1&&Object(ne.jsx)(X.a,{className:r.info,children:Object(ne.jsx)(Y.a,{component:"h1",variant:"h5",color:"primary",gutterBottom:!0,children:"No transactions found"})}),!e.id&&Object(ne.jsx)(X.a,{className:r.info,children:Object(ne.jsx)(Y.a,{component:"h1",variant:"h5",color:"primary",gutterBottom:!0,children:"Please select an account"})}),o.fetching&&Object(ne.jsx)(X.a,{className:r.info,children:Object(ne.jsx)(Y.a,{component:"h1",variant:"h5",color:"primary",gutterBottom:!0,children:Object(ne.jsx)(re,{height:"1rem"})})})]})]})}var Re=n(52),Ve=n(544),_e=n(540),De=n(545),Pe=n(546),ke=Object(z.a)((function(e){return Object(je.a)({flexCenter:{display:"flex",alignItems:"center"},grow:{flexGrow:1},justifyBetween:{justifyContent:"space-between"},menuButton:{marginRight:e.spacing(2)},title:Object(Re.a)({display:"none",textAlign:"left",flexGrow:1},e.breakpoints.up("sm"),{display:"block"}),link:{color:"unset"}})}));function He(){var e=ke(),t=Object(s.c)((function(e){return function(e){var t;return null===(t=function(e){return e.user}(e))||void 0===t?void 0:t.profile}(e)}));return Object(ne.jsx)("div",{className:e.grow,children:Object(ne.jsx)(Ve.a,{position:"fixed",children:Object(ne.jsxs)(_e.a,{className:e.justifyBetween,children:[Object(ne.jsxs)(Y.a,{className:e.title,variant:"h6",noWrap:!0,children:["Welcome ",t.fetched?" ".concat(t.data.name):""]}),Object(ne.jsxs)("div",{className:e.flexCenter,children:[Object(ne.jsx)(u.a,{to:"/",className:e.link,children:Object(ne.jsxs)(Ne.a,{color:"inherit","aria-label":"Account Transactions",children:[Object(ne.jsx)(De.a,{}),"\xa0Transactions"]})}),Object(ne.jsx)(u.a,{to:"/transfer",className:e.link,children:Object(ne.jsxs)(Ne.a,{color:"inherit","aria-label":"Transfer Money",children:[Object(ne.jsx)(Pe.a,{}),"Transfer"]})})]})]})})})}n(480);function Le(e){return Object(ne.jsx)("div",{className:"not-found-container",children:Object(ne.jsx)("div",{className:"not-found",title:"404",children:"404"})})}var Ge=n(104),We=n.n(Ge),$e=n(281),qe={fromAccount:"",toAccount:"",transferAmount:0,currency:"",description:"",formSubmitted:!1,formSubmitting:!1,isFormPristine:!0,isFormValid:!0,success:!1},Je={fromAccount:"Select account to send money",toAccount:"Select account to receive money",transferAmount:"Enter amount to send",currency:"Select a currency to transfer",description:"Enter description for transfer"},Ke={fromAccount:!1,toAccount:!1,transferAmount:!1,currency:!1,description:!1},ze=function(e){var t=e.errors,n=e.helperText,r=e.values,a=e.accounts,c=e.currencies,o=e.fieldValues,i=new Map;Array.isArray(a)&&a.forEach((function(e){i.set(e.id,{balance:e.balance,currency:e.currency})}));var s,u=1;c&&c.hasOwnProperty(r.currency)&&(u=null!==(s=c[r.currency])&&void 0!==s?s:1);var l=Object(m.a)({},t),d=Object(m.a)({},n),f=Object(m.a)({},r),j={balance:0,currency:""};if(o.hasOwnProperty("fromAccount")){var b,h=null!==(b=o.fromAccount)&&void 0!==b?b:"",p=i.get(h)||j,O=p.balance,v=p.currency;h?(h===r.toAccount&&(f.toAccount="",d.toAccount="From and To account cannot be the same",l.toAccount=!0),l.fromAccount=!1,d.fromAccount="Available amount: ".concat(v).concat(O)):h||(l.fromAccount=!0,d.fromAccount="From Account is required"),v&&r.transferAmount>O*u?(d.transferAmount="Amount cannot exceed balance: ".concat(r.currency).concat(O*u),l.transferAmount=!0):(d.transferAmount="Max amount: ".concat(r.currency).concat(O*u),l.transferAmount=!1),f.fromAccount=h}if(o.hasOwnProperty("toAccount")){var x,g=null!==(x=o.toAccount)&&void 0!==x?x:"";if(g){g===r.fromAccount&&(f.fromAccount="",d.fromAccount="From and To account cannot be the same",l.fromAccount=!0),l.toAccount=!1;var y=i.get(g)||j,A=y.balance,S=y.currency;d.toAccount="Available amount: ".concat(S).concat(A)}else g||(l.toAccount=!0,d.toAccount="To Account is required");f.toAccount=g}if(o.hasOwnProperty("transferAmount")){var C=Number(o.transferAmount);f.transferAmount=C;var T=i.get(r.fromAccount)||j,N=T.balance;T.currency&&C>N*u?(d.transferAmount="Amount cannot exceed balance: ".concat(r.currency).concat(N*u),l.transferAmount=!0):(d.transferAmount="Max amount: ".concat(r.currency).concat(N*u),l.transferAmount=!1)}if(o.hasOwnProperty("currency")){var F,w=o.currency;if(c&&c.hasOwnProperty(w))u=null!==(F=c[w])&&void 0!==F?F:1;var E=(i.get(r.fromAccount)||j).balance;w?(d.currency="Select a currency to transfer",l.transferAmount=!1,l.currency=!1):(d.currency="Valid currency is required to make transfer",l.currency=!0),d.transferAmount="Max amount: ".concat(w).concat(E*u),r.transferAmount>E*u?l.transferAmount=!0:l.transferAmount=!1,f.currency=w}if(o.hasOwnProperty("description")){var B,I=null!==(B=o.description)&&void 0!==B?B:"";f.description=I}return f.isFormValid=function(e,t){return!!(e.transferAmount>0&&e.toAccount&&e.fromAccount&&e.currency&&Object.values(t).every((function(e){return!1===e})))}(f,l),f.isFormPristine=!1,{errors:l,helperText:d,values:f}},Qe=n(109),Xe=n(196),Ye=n(547),Ze=n(548),et=Object(z.a)((function(e){return{row:{display:"grid",gridGap:"1rem",alignItems:"start",gridTemplateColumns:"1fr auto 1fr",marginTop:e.spacing(4),marginBottom:e.spacing(4)},title:{textAlign:"center",paddingBottom:e.spacing(4)},centerContainer:{width:"100%",marginTop:e.spacing(4),marginBottom:e.spacing(4),textAlign:"center"}}}));function tt(e){var t,n=et();if((null===(t=e.accounts)||void 0===t?void 0:t.fetched)&&e.currencies.fetched){if(e.values.formSubmitted)return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)(Y.a,{className:n.title,component:"h1",variant:"h3",color:"primary",gutterBottom:!0,"data-testid":"postTransferMoneyFormSubmit",children:["Money Transfer ",!0===e.values.success?"Successful":"Failed"]}),Object(ne.jsx)("div",{className:n.centerContainer,children:Object(ne.jsx)(Ne.a,{variant:"contained",color:"primary",onClick:e.resetForm,"data-testid":"transferMoneyAgain",children:"Transfer Again"})})]});if(!0!==e.values.formSubmitting)return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(Y.a,{className:n.title,component:"h1",variant:"h3",color:"primary",gutterBottom:!0,children:"Transfer Money"}),Object(ne.jsxs)("form",{"data-testid":"transferMoneyForm",autoComplete:"off",onSubmit:e.handleFormSubmit,children:[Object(ne.jsxs)("div",{className:n.row,children:[Object(ne.jsx)(Xe.a,{name:"currency",required:!0,select:!0,fullWidth:!0,label:"Transfer Currency",value:e.values.currency,onBlur:e.handleInputValue,onChange:e.handleInputValue,variant:"outlined",helperText:e.helperText.currency,error:e.errors.currency,"data-testid":"transferMoneyFormCurrencySelector",children:Object.entries(e.currencies.data).map((function(e){var t=Object(Ce.a)(e,2),n=t[0];t[1];return Object(ne.jsx)(we.a,{value:n,children:n},n)}))}),"\xa0",Object(ne.jsx)(Xe.a,{name:"transferAmount",fullWidth:!0,required:!0,label:"Amount",type:"number",variant:"outlined",value:e.values.transferAmount,onBlur:e.handleInputValue,onChange:e.handleInputValue,helperText:e.helperText.transferAmount,error:e.errors.transferAmount,"data-testid":"transferMoneyFormAmount"})]}),Object(ne.jsxs)("div",{className:n.row,children:[Object(ne.jsx)(Xe.a,{name:"fromAccount",fullWidth:!0,required:!0,select:!0,label:"Transfer From",value:e.values.fromAccount,onBlur:e.handleInputValue,onChange:e.handleInputValue,variant:"outlined",helperText:e.helperText.fromAccount,error:e.errors.fromAccount,"data-testid":"transferMoneyFormFromSelector",children:e.accounts.data.map((function(e){return Object(ne.jsx)(we.a,{value:e.id,children:e.label},e.id)}))}),Object(ne.jsx)(Qe.a,{"aria-label":"Send Money",color:"primary",children:Object(ne.jsx)(Ye.a,{})}),Object(ne.jsx)(Xe.a,{name:"toAccount",required:!0,fullWidth:!0,select:!0,label:"Transfer To",value:e.values.toAccount,onBlur:e.handleInputValue,onChange:e.handleInputValue,variant:"outlined",helperText:e.helperText.toAccount,error:e.errors.toAccount,"data-testid":"transferMoneyFormToSelector",children:e.accounts.data.map((function(e){return Object(ne.jsx)(we.a,{value:e.id,children:e.label},e.id)}))})]}),Object(ne.jsx)("div",{className:n.centerContainer,children:Object(ne.jsx)(Xe.a,{name:"description",fullWidth:!0,label:"Description",type:"text",variant:"outlined",value:e.values.description,onBlur:e.handleInputValue,onChange:e.handleInputValue,helperText:e.helperText.description,error:e.errors.description,"data-testid":"transferMoneyFormDescription"})}),Object(ne.jsx)("div",{className:n.centerContainer,children:Object(ne.jsxs)(Ne.a,{disabled:e.values.isFormPristine||!e.values.isFormValid||e.values.formSubmitting,variant:"contained",color:"primary",type:"submit","data-testid":"transferMoneyFormSubmitButton",children:[Object(ne.jsx)(Ze.a,{})," \xa0\xa0Transfer"]})})]})]})}return Object(ne.jsx)(re,{height:"1rem"})}var nt=Object(z.a)((function(e){return{appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}}));function rt(e){var t=nt(),n=Object(s.b)(),r=Object(a.useState)(qe),c=Object(Ce.a)(r,2),o=c[0],i=c[1],u=Object(a.useState)(Ke),l=Object(Ce.a)(u,2),d=l[0],f=l[1],j=Object(a.useState)(Je),b=Object(Ce.a)(j,2),h=b[0],p=b[1],O=Object(s.c)((function(e){return ee(e)})),v=Object(s.c)((function(e){return function(e){var t;return null===(t=Z(e))||void 0===t?void 0:t.currencies}(e)})),x=function(){var e=Object($e.a)(We.a.mark((function e(t){var n;return We.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=!1,o.isFormPristine||!o.isFormValid){e.next=13;break}return i(Object(m.a)(Object(m.a)({},o),{},{formSubmitting:!0})),e.prev=4,e.next=7,r={fromAccount:o.fromAccount,toAccount:o.toAccount,transferAmount:o.transferAmount,currency:o.currency,description:o.description},H.post("/transfer",r);case 7:e.sent&&(n=!0);case 9:return e.prev=9,i(Object(m.a)(Object(m.a)({},qe),{},{formSubmitting:!1,formSubmitted:!0,success:n})),g(),e.finish(9);case 13:case"end":return e.stop()}var r}),e,null,[[4,,9,13]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){p(Object(m.a)({},Je)),f(Object(m.a)({},Ke))};return Object(a.useEffect)((function(){!0===o.formSubmitted&&!0===o.success&&n(L())}),[n,o.formSubmitted,o.success]),Object(ne.jsxs)("main",{className:t.content,children:[Object(ne.jsx)("div",{className:t.appBarSpacer}),Object(ne.jsx)(Q.a,{"data-testid":"transferFormContainer",maxWidth:"sm",className:t.container,children:Object(ne.jsx)(tt,{accounts:O,currencies:v,values:o,handleInputValue:function(e){var t=e.target,n=t.name,r=t.value,a=ze({errors:d,helperText:h,values:o,accounts:O.data,currencies:v.data,fieldValues:Object(Re.a)({},n,r)});i(a.values),f(a.errors),p(a.helperText)},handleFormSubmit:x,helperText:h,errors:d,resetForm:function(){i(Object(m.a)({},qe)),g()}})})]})}var at=function(){var e=Object(s.b)();return Object(a.useEffect)((function(){e(L()),e(W()),e(K())}),[e]),Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(He,{}),Object(ne.jsxs)(u.b,{children:[Object(ne.jsx)(rt,{path:"transfer"}),Object(ne.jsx)(Me,{path:"/"}),Object(ne.jsx)(Me,{path:":id"}),Object(ne.jsx)(Le,{default:!0})]})]})},ct=(n(481),n(99)),ot=n(282),it=n(283),st={name:"",gender:"",age:"",address:""},ut={profile:{fetching:!1,fetched:!1,error:null,data:st}},lt=Object(ct.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:var n=Object(m.a)(Object(m.a)({},e.profile),{},{fetching:!0,fetched:!1,error:null,data:st});return Object(m.a)(Object(m.a)({},e),{},{profile:n});case q:var r=Object(m.a)(Object(m.a)({},e.profile),{},{fetching:!1,fetched:!0,error:null,data:t.profile});return Object(m.a)(Object(m.a)({},e),{},{profile:r});case J:var a=Object(m.a)(Object(m.a)({},e.profile),{},{fetching:!1,fetched:!0,error:t.error,data:st});return Object(m.a)(Object(m.a)({},e),{},{profile:a});default:return e}},account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:var n=Object(m.a)(Object(m.a)({},e.accounts),{},{fetching:!0,fetched:!1,error:null,data:[]});return Object(m.a)(Object(m.a)({},e),{},{accounts:n});case g:var r=Object(m.a)(Object(m.a)({},e.accounts),{},{fetching:!1,fetched:!0,data:t.accounts});return Object(m.a)(Object(m.a)({},e),{},{accounts:r});case y:var a=Object(m.a)(Object(m.a)({},e.accounts),{},{fetching:!1,fetched:!0,data:[],error:t.error});return Object(m.a)(Object(m.a)({},e),{},{accounts:a});case A:var c=Object(m.a)(Object(m.a)({},e.transactions),{},{fetching:!0,fetched:!1,error:null,data:[]});return Object(m.a)(Object(m.a)({},e),{},{transactions:c});case S:var o=Object(m.a)(Object(m.a)({},e.transactions),{},{fetching:!1,fetched:!0,data:t.transactions});return Object(m.a)(Object(m.a)({},e),{},{transactions:o});case C:var i=Object(m.a)(Object(m.a)({},e.transactions),{},{fetching:!1,fetched:!0,data:[],error:t.error});return Object(m.a)(Object(m.a)({},e),{},{transactions:i});case T:var s=Object(m.a)(Object(m.a)({},e.currencies),{},{fetching:!0,fetched:!1,error:null,data:{}});return Object(m.a)(Object(m.a)({},e),{},{currencies:s});case N:var u=Object(m.a)(Object(m.a)({},e.currencies),{},{fetching:!1,fetched:!0,data:t.currencies});return Object(m.a)(Object(m.a)({},e),{},{currencies:u});case F:var l=Object(m.a)(Object(m.a)({},e.currencies),{},{fetching:!1,fetched:!0,data:{},error:t.error});return Object(m.a)(Object(m.a)({},e),{},{currencies:l});default:return e}}}),dt=[it.a],ft=Object(ot.composeWithDevTools)({}),mt=Object(ct.createStore)(lt,ft(ct.applyMiddleware.apply(void 0,dt))),jt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,551)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};i.a.render(Object(ne.jsx)(s.a,{store:mt,children:Object(ne.jsx)(at,{})}),document.getElementById("root")),jt()}},[[482,1,2]]]);
//# sourceMappingURL=main.e88f9270.chunk.js.map